## 线段树

### 线段树的特点
线段树（Segment Tree）是一种高级数据结构，主要用于处理区间查询和区间修改的问题。它的优势在于能够在 $O(log n)$ 的时间复杂度内进行区间查询和更新，适用于处理动态区间问题，如区间和查询、区间最小值/最大值查询等。

### 线段树的结构
1. 线段树的结构
- 根节点：表示整个数组的区间，如`[0, n-1]`
- 叶节点：每个叶节点表示数组中的一个元素
- 内部节点：每个内部节点表示一个较大区间，由其左右节点组成的区间信息汇总得到。

2. 特点：
- 对于一个长度为$n$的数组，线段树是一个完全二叉树，其节点个数大约为$4n$个。
    - 当$n$为$2$的幂次时，则最后一层的节点个数为$n$，层数为$log n + 1$。节点总和为$1+2+4+...+n = 2^n-1$
    - 当$n$不为$2$的幂次时，则最后一层节点个数满足$2^{i-1}< n < 2^i=k$，可以假设个数为$i$，则共有$2^k-1$个节点
    因此，对于长度为$n$的数组，其树的节点个数可以为$2^{ceil(logn)}-1$